{"ast":null,"code":"import React,{useContext,useState}from'react';import'./Account.css';import axios from'axios';import{toast}from'react-toastify';import{useNavigate}from'react-router-dom';import{Context}from'../../context/Context';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Account=()=>{const[currentState,setCurrentState]=useState('sign up');const{setToken}=useContext(Context);const navigate=useNavigate();const[data,setData]=useState({name:'',email:'',password:''});const onChangeHandler=e=>{const name=e.target.name;const value=e.target.value;setData(prev=>({...prev,[name]:value}));};const onSubmitHandler=async e=>{try{e.preventDefault();let url;if(currentState==='sign up'){url='http://localhost:4000/api/user/sign-up';}else{url='http://localhost:4000/api/user/login';}const response=await axios.post(url,data);if(response.data.success){toast.success(response.data.success);navigate('/');setToken(response.data.token);localStorage.setItem('token',response.data.token);}else{toast.error(response.data.success);}}catch(error){toast.error(error.message);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,className:\"account p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:currentState}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-3\",children:[\"Please \",currentState,\" to book appointment\"]}),currentState==='sign up'?/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:data.name,onChange:onChangeHandler})]}):'',/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:data.email,onChange:onChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:data.password,onChange:onChangeHandler})]}),currentState==='sign up'?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mb-3\",children:\"create account\"}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mb-3\",children:\"login\"}),currentState==='sign up'?/*#__PURE__*/_jsxs(\"p\",{className:\"qst\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>setCurrentState('login'),children:\"Login here\"})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"qst\",children:[\"Create a new account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>setCurrentState('sign up'),children:\"click here\"})]})]});};export default Account;","map":{"version":3,"names":["React","useContext","useState","axios","toast","useNavigate","Context","jsx","_jsx","jsxs","_jsxs","Account","currentState","setCurrentState","setToken","navigate","data","setData","name","email","password","onChangeHandler","e","target","value","prev","onSubmitHandler","preventDefault","url","response","post","success","token","localStorage","setItem","error","message","onSubmit","className","children","type","onChange","onClick"],"sources":["C:/doctor/frontend/src/pages/account/Account.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport './Account.css';\r\nimport axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport { Context } from '../../context/Context';\r\n\r\nconst Account = () => {\r\n  const [currentState, setCurrentState] = useState('sign up');\r\n  const {setToken} = useContext(Context);\r\n  const navigate = useNavigate();\r\n  const [data, setData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n  const onChangeHandler = (e)=>{\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    setData((prev)=>({...prev, [name] : value}));\r\n  }\r\n  const onSubmitHandler = async(e)=>{\r\n    try {\r\n      e.preventDefault();\r\n      let url;\r\n      if(currentState === 'sign up'){\r\n        url = 'http://localhost:4000/api/user/sign-up';\r\n      }\r\n      else{\r\n        url = 'http://localhost:4000/api/user/login';\r\n      }\r\n      const response = await axios.post(url,data);\r\n      if(response.data.success){\r\n        toast.success(response.data.success);\r\n        navigate('/');\r\n        setToken(response.data.token);\r\n        localStorage.setItem('token',  response.data.token);\r\n      }\r\n      else{\r\n        toast.error(response.data.success);\r\n      }\r\n    }\r\n    catch(error) {\r\n      toast.error(error.message);\r\n    }\r\n  }\r\n  return (\r\n    <form onSubmit={onSubmitHandler} className='account p-4'>\r\n      <h3 className='mb-3'>{currentState}</h3>\r\n      <p className='mb-3'>Please {currentState} to book appointment</p>\r\n      {currentState === 'sign up' ? \r\n      <div className='mb-2'>\r\n        <p className='mb-1'>Full Name</p>\r\n        <input type='text' name='name' value={data.name} onChange={onChangeHandler}/>  \r\n      </div>: ''\r\n      }\r\n      <div className='mb-2'>\r\n        <p className='mb-1'>Email</p>\r\n        <input type='email' name='email' value={data.email} onChange={onChangeHandler}/>  \r\n      </div>\r\n      <div className='mb-3'>\r\n        <p className='mb-1'>Password</p>\r\n        <input type='password' name='password' value={data.password} onChange={onChangeHandler}/>  \r\n      </div>\r\n      {currentState === 'sign up' ? \r\n      <button type='submit' className='mb-3'>create account</button>:\r\n      <button type='submit' className='mb-3'>login</button>}\r\n      {currentState === 'sign up' ? \r\n      <p className='qst'>Already have an account? <span onClick={()=>setCurrentState('login')}>Login here</span></p>:\r\n      <p className='qst'>Create a new account? <span onClick={()=>setCurrentState('sign up')}>click here</span></p>}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Account\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}